learning-app/
│
├── client/ # ReactJS Frontend
│ ├── public/
│ ├── src/
│ │ ├── components/
│ │ ├── pages/
│ │ ├── services/ # Frontend API calls
│ │ └── App.jsx
│ └── package.json
│
├── server/ # Ballerina Backend
│ ├── main.bal # Main entry point
│ ├── services/
│ │ ├── user_service.bal # Handles user registration, login
│ │ ├── pdf_service.bal # Handles PDF upload
│ │ └── quiz_service.bal # Handles quiz, flashcard, exam generation
│ │
│ ├── modules/ # Reusable Ballerina modules
│ │ ├── openai_module.bal # Handles communication with OpenAI API
│ │ └── utils.bal # Utility functions (PDF parsing, etc.)
│ │
│ ├── data/ # Database logic
│ │ └── db_client.bal # DB queries for users, quizzes, etc.
│ │
│ ├── config/
│ │ └── config.toml # API keys, DB config
│ │
│ ├── storage/ # For temporarily saving uploaded PDFs
│ └── Ballerina.toml
│
├── README.md
└── .gitignore

| Service Name             | Responsibility                                              |
| ------------------------ | ----------------------------------------------------------- |
| **pdf_upload**           | Accept PDF files, extract text                              |
| **quiz_generation**      | Generate quizzes and questions from extracted text (via AI) |
| **flashcard_generation** | Create flashcards from text/key terms                       |
| **exam_management**      | Create, serve, and grade mock exams                         |
| **user_management**      | User registration, login, authentication                    |
| **progress_tracking**    | Track user quiz/exam progress and scores                    |
| **analytics**            | Provide learning analytics, stats, recommendations          |
| **content_management**   | Manage uploaded documents, topics, sections                 |

| Table Name         | Description                               |
| ------------------ | ----------------------------------------- |
| **users**          | Stores user info and credentials          |
| **pdf_documents**  | Metadata about uploaded PDFs              |
| **topics**         | Segments or chapters extracted from PDFs  |
| **quizzes**        | Quiz sets generated from topics           |
| **questions**      | Individual questions in quizzes           |
| **flashcards**     | Flashcards created from topics            |
| **exams**          | Generated exam papers from quizzes        |
| **exam_questions** | Questions assigned to an exam             |
| **user_progress**  | Tracks user quiz/exam attempts and scores |
| **pdf_summaries**  | Stores OpenAI-generated PDF summaries     |

Users
| Column | Type | Notes |
| -------------- | ------------ | --------------- |
| id | UUID | Primary key |
| username | VARCHAR(50) | Unique |
| email | VARCHAR(100) | Unique |
| password_hash | VARCHAR(255) | Hashed password |
| created_at | TIMESTAMP | |

pdf_documents
| Column | Type | Notes |
| --------------- | --------- | ------------------------------ |
| id | UUID | Primary key |
| user_id | UUID | Foreign key → users.id |
| file_name | VARCHAR | Original file name |
| upload_date | TIMESTAMP | |
| extracted_text | TEXT | Full extracted text (optional) |

pdf_summaries
| Column | Type | Notes |
| ------------- | --------- | ------------------------------------- |
| id | UUID | Primary key |
| pdf_id | UUID | Foreign key → pdf_documents.id |
| summary | TEXT | Summary generated by OpenAI |
| generated_at | TIMESTAMP | When the summary was generated |

topics
| Column | Type | Notes |
| ---------- | ------- | -------------------------------- |
| id | UUID | Primary key |
| pdf_id | UUID | Foreign key → pdf_documents.id |
| title | VARCHAR | Topic or section title |
| start_pos | INT | Text position in extracted_text |
| end_pos | INT | Text position in extracted_text |

quizes
| Column | Type | Notes |
| ----------- | --------- | ----------------------- |
| id | UUID | Primary key |
| topic_id | UUID | Foreign key → topics.id |
| title | VARCHAR | Quiz title |
| created_at | TIMESTAMP | |

questions
| Column | Type | Notes |
| --------------- | ------- | ------------------------------ |
| id | UUID | Primary key |
| quiz_id | UUID | Foreign key → quizzes.id |
| question_text | TEXT | Question content |
| question_type | VARCHAR | e.g., 'multiple_choice', 'tf' |
| options | JSON | For multiple-choice options |
| correct_answer | VARCHAR | The correct option |

flashcards
| Column | Type | Notes |
| ---------- | ------- | ----------------------- |
| id | UUID | Primary key |
| topic_id | UUID | Foreign key → topics.id |
| term | VARCHAR | Flashcard term |
| definition | TEXT | Flashcard definition |

exams
| Column | Type | Notes |
| ----------- | --------- | ---------------------- |
| id | UUID | Primary key |
| user_id | UUID | Foreign key → users.id |
| title | VARCHAR | Exam title |
| created_at | TIMESTAMP | |

exam_question
| Column | Type | Notes |
| ------------ | ---- | -------------------------- |
| id | UUID | Primary key |
| exam_id | UUID | Foreign key → exams.id |
| question_id | UUID | Foreign key → questions.id |
| sequence | INT | Question order in exam |

user progress
| Column | Type | Notes |
| ------------- | --------- | --------------------------- |
| id | UUID | Primary key |
| user_id | UUID | Foreign key → users.id |
| quiz_id | UUID | Foreign key → quizzes.id |
| score | INT | Percentage or points scored |
| completed_at | TIMESTAMP | When quiz/exam completed |
